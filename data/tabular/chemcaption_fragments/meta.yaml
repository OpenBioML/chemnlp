---
name: chemcaption_fragments
description: |-
    Checks if a given fragment is present in a molecule.
targets:
    - id: presence
      description: flag indicating whether the fragment is present in the molecule
      type: boolean
identifiers:
    - id: molecule
      type: text
      description: identifier of the molecule
    - id: fragment
      type: text
      description: identifier of the fragment
    - id: representation
      type: text
      description: representation type of the molecule
license: MIT
links:
    - url: https://github.com/lamalab-org/chem-caption
      description: software used to generate the data
num_points: 143,517
templates:
    - |-
      {#Question: |Q: !}Is the fragment {fragment#} present in the molecule with {representation#} {molecule#}?
      {#Answer: |A: |!}{presence#yes &NULL}Yes{presence#no &NULL}No
    - The fragment {fragment#} is {presence#not &NULL}present{presence#not &NULL}absent in the molecule with {representation#} {molecule#}.
    - |-
      Task: {#Answer a question about substructures|Answer a question about fragments!}
      {#Question: |Q: !}Is the fragment {fragment#} present in the molecule with {representation#} {molecule#}?
      {#Answer: |A: |!}{presence#yes &NULL}Yes{presence#no &NULL}No
    - |-
      User: Is the fragment {fragment#} present in the molecule with {representation#} {molecule#}?
      Assistant: {presence#yes &NULL}Yes{presence#no &NULL}No
    - |-
      User: I have a question about the molecule with {representation#} {molecule#}.
      Assistant: {#Sure, what is your question?|How can I help?|That sounds interesting, how can I help?|Interesting, how can I help?!}
      User: Is the fragment {fragment#} present in the molecule?
      Assistant: {presence#yes &NULL}Yes{presence#no &NULL}No
    - |-
      User: I want to know more about the molecule with {representation#} {molecule#}.
      Assistant: {#Sure, what is your question?|How can I help?|That sounds interesting, how can I help?|Interesting, how can I help?!}
      User: Is the fragment {fragment#} {#present in|[part of of|substructure of!} the molecule?
      Assistant: {presence#yes &NULL}Yes{presence#no &NULL}No